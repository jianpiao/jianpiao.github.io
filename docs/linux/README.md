### 

# 3月27号linux上课内容

#### 软连接

> 1.软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式
>
> 2.软链接可以 跨文件系统 ，硬链接不可以
>
> 3.软链接可以对一个不存在的文件名进行链接
>
> 4.软链接可以对目录进行链接


#### 硬链接

> 1.硬链接，以文件副本的形式存在。但不占用实际空间。
>
> 2.不允许给目录创建硬链接
>
> 3.硬链接只有在同一个文件系统中才能创建

#### 命令参数

	必要参数:
	-b 删除，覆盖以前建立的链接
	-d 允许超级用户制作目录的硬链接
	-f 强制执行
	-i 交互模式，文件存在则提示用户是否覆盖
	-n 把符号链接视为一般目录
	-s 软链接(符号链接)
	-v 显示详细的处理过程
	
	选择参数:
	-S “-S<字尾备份字符串> ”或 “--suffix=<字尾备份字符串>”
	-V “-V<备份方式>”或“--version-control=<备份方式>”
	--help 显示帮助信息
	--version 显示版本信息


#### 执行命令

> 创建软链接
>
> ln  -s  [源文件或目录]  [目标文件或目录]

```
ln –s  /var/www/test  test
```

 

> 删除test

```
rm –rf test
```

> 修改软链接
>
> ln –snf  [新的源文件或目录]  [目标文件或目录]

```
ln –snf  /var/www/test1   /var/test

```


#### 添加组学生班级 gid=600 

> 创建两个用户stu001，stu002 并且将这两个指定到组用户

```
// 用户1
groupadd -g 600 class01 useradd stu001 -u 5
// 用户2
groupadd -g 502 class02 useradd stu002 -u 5
// 删除用户
userdel
// 

```


#### 修改用户权限

```
// 普通方式
chmod 0764 p1
//  符号方式
chmod u=rwx,g=rw,o=r p1
```


## 第四章内容

#### 进程概念

> 显示日期

```
date
```

#### 进程

> 进程是程序在某个数据集合的运行活动是系统进行资源分配和调度的一个独立单位


#### 进程的类型

1. 交互式进程

> 处理用户交互

2. 批处理进程

> 系统进程

3. 守护进程

>监控进程


#### 进程状态

1. 运行状态

> 它的程序正在处理机上执行

```
running
```

2. 就绪状态

> 进程已具备运行的条件，但是因为其他进程正在占用cpu所以展示不能运行而等待分配cpu状态

```
readly
```

3. 堵塞状态

> 进程因为等待某种事件发生，而暂时不能运行的状态

```
blocked
```

#### 单道程序设计

##### 特征

> 1. 失去封闭性
> 2. 程序与计算不再一一对应
> 3. 并发程序在执行期间相互制约


#### 显示进程

```
//  显示进程
ps
// 所有的进程信息
ps -e

// 进程的所有信息
ps -f

// 父进程
ps -ef

```

#### 用户以及组

```
chmod 命令：
chmod 0(***) 文件名
0 是特殊权限，括号内是权限的八进制
 
文件权限范围：
u 即文件或目录的拥有者
g 即文件或目录的所属群组
o 除了文件或目录拥有者或所属群组之外，其他用户皆属于这个范围
a 即全部的用户，包含拥有者、所属群组以及其他用户
权限代号：
r：读取权限，数字代号为4
w：写入权限，数字代号为2
x：执行或切换权限，数字代号为1
-：不具任何权限，数字代号为0
 
 
umask命令：
指定在建立文件时预设的权限掩码
-p 以掩码形式表示权限
-S 以文字的方式来表示权限掩码
umask 0*** 文件名
掩码的写法是与八进制相反，如权限755，对应的掩码就是022
 
 
 
添加用户：
adduser 用户名   新建用户
passwd 密码      修改密码
userdel -r 用户名  删除用户
 
 
cat /etc/group  查看所有用户组
cat /etc/passwd  查看组和用户
 
 
chgrp命令：
变更文件或目录的所属群组
用法：
chgrp 群组名 文件名


linux下创建用户及组：
1.创建组
groupadd  组名
2.创建用户，并将用户添加到组
useradd  用户名  -g  组名
3.更改用户的密码
password  用户名
4.修改目录的属主和属组
chown  -R   组名:用户名  文件的目录

```

# 3月31号上课内容

## yes命令：

>一直输出
>
>格式：yes 输出内容
>
>Ctrl+c 终止进程
>
>Ctrl+z 暂停进程，挂起进程
>
>fg 把挂起的进程继续执行

```
// 输出gg
yes gg
```

## ps命令

> -e 显示所有进程
>
> -f 进程的所有信息（全格式）
>
> -ef 查看全格式的全部进程
>
> -aux 显示所有包含其他使用者的行程

## kill命令：

> 用于删除执行中的程序或工作
>
> -l 查看信息
>
> -s 指定送出的信息
>
> SIGHUP 重启
>
> SIGQUIT 终止
>
> SIGKILL  强行杀掉进程
>
> 使用格式：kill -s [kill] 进程号

## s -a 查看隐藏文件

## exit 停止所有任务

## find命令：

> 在指定目录下查找文件
>
> 格式：find /路径 根据什么
>
> -name 文件名称符合 name 的文件
>
> -type 按照文件类型

#### 文件类型：

```
d: 目录
c: 字型装置文件
b: 区块装置文件
p: 具名贮列
f: 一般文件
l: 符号连结
s: socket
```


jobs命令：直接查看挂起进程

#### 杀掉进程命令

```
// 显示信息 
kill -l

// 杀死3308
kill 3308端口

// 强制杀死进程
kill -s KILL 3714

// 通过数字代表强行杀掉进程
kill -9 3310
```

##### 动态显示进程信息

```
top
```

##### 挂在后台

```
&符号可以挂在后台

// 把p21放在后台
vi p21&
```

#### 找内容

```
// 查找名称为。。的文件
find . -name "p*"
```

# 4月3号linux上课内容

## sleep

> s表示秒(默认设置)
>
> m表示分钟
>
> h表示小时
>
> d表示天
>
> 

```bash
// 停顿三秒钟
sleep 3s
```

## bash

```
// 告诉系统其后路径所指定的程序即是解释此脚本文件的 Shell 程序
#!/bin/bash
echo "Hello World !"
```


## nohup

> &符号：在后台运行文件，加了&符号脚本后台运行，前台可以继续执行其他命令，不加&前台需等脚本运行完才能继续执行其他命令（假如在运行时关闭终端，不会影响结果文件的生成）

```
// 放在后台执行，关掉终端也会继续执行
nohup bash a.sh &
```

```
// 查看所有的nohup
cat nohup.out
```

## wait

> 所有的子进程执行完才执行下面的
>
> 等1，2和sleep执行完才执行wait下面的

```
echo 1
echo 2
sleep 5s&
sleep 5s over
wait
echo 3
echo 4
```

## 压缩、解压 gzip

> 不可以对目录压缩
>
> -r 常用选项
>
> -d 解压
>
> -z 压缩

```
// 递归操作
gzip -r l

// 解压p2.gz
gzip -d p2.gz

```

## zip

```
// 压缩
zip -r 1.zip 1

// 解压
unzip 1.zip
```

## tar 

```
// 压缩
tar -ef 1.tar 1

// 解压
tar -xf 1.tar
```



# 4月7号上课内容

### vi和vim

vim是vi的增强版

#### 行编辑器和屏幕编辑器

底行显示：行（L），字数（C）

> 命令状态：输入的属于命令
>
> 插入方式：输入的都为普通字符
>
> Ex转义方式：（:）进入
>
> 转义命令：
>
> :wq 保存退出
>
> :x(ZZ) 保存修改时的缓冲区内容写到文件上
>
> :q! 强行退出不保存



#### :wq

 把编辑缓冲区内容写到你的编辑的文件中

#### :x

大写字母ZZ，保存修改时的缓冲区内容写到文件上

#### :q!

强制退出vi，感叹号告诉vi无跳转退出，丢弃缓冲区内容

#### :set 

:set number 序列
:set nuhlsearch 不要高亮


## vim有三种模式

> 命令模式
>
> 输入模式
>
> 底行指令模式

### 命令模式下：

```
i 在光标所在位置开始输入

shift + i 在光标所在行首部开始输入

shift + a 在光标所在行尾部开始输入

shift + o 在光标上面新建一行开始输入

x 删掉光标所在字符

dd 剪切该行

d + → 删掉光标往右的字符

d + ← 删掉光标往左的字符

d + 数字 + ←/→ 指定方向和删掉指定长度的字符串

p 粘贴

y  + ←/→ 复制

y + 数字 + ←/→ 复制指定长度

w 跳到下一个词首

b 返回上一个词首
````


### 修改命令：

c 修改光标前的内容，esc退出

C 紧接着新输入文本，esc退出

c^删除光标前当前行的内容

cc 删除一行并进入编辑模式

14.取代命令：

r 替代光标单个字符

R 替代光标后当前行所有内容

### 替换命令：

s 输入内容替代光标字符

S 输入内容替代整行

### 字符串检索

```
向前检索：/ 字符串 <Enter>

向后检索：? 字符串 <Enter>

查找下一个，按n即可

N是向反方向查找
```



# 4月10号上课内容

#### 设置vi文本内容

```
syntax on 高亮

set number 显示行数

set cursorline 显示光标线

set wrap 文本自动换行

set showcmd 

map S :w<CR> 保存快捷键

map Q :q<CR> 退出快捷键

map W :wq<CR> 保存退出快捷键

map R :source $MYVIMRC<CR> 立即生效

noremap U 5k 快速翻页

noremap E 5j 同上

set hlsearch 搜索到后高亮

set incsearch 编写同时搜索

set ignorecase 大小写不敏感

set smartcase 智能大小写，输入了有大小写的字符就会区分
```

#### 输入内容到文本里面

cat >> p2.txt << EDF <<是指把内容输入进去p2.txt EDF是开始和结束符，结尾要输入EDF来结束，类似标签语言

# 4月14号上课内容

修改字体颜色 echo -e "\e[1;32m neirong\e[0m"

创建文件，创建成功显示ok mkdir -p 1/12/123 && echo ok

删除空文件 rmdir -p 1/12/123

删除文件,递归删除 rm -f

所有可能的命令列出来 type -a pwd

与或非 && || !

```
例子1: mkdir -p 1/12/123 && echo ok
例子2: mkdir 1/2/3 || echo ok
```

### echo 命令

输出

-e 开启转义字符

-n 不换行输出

\ 转义符，后面可以输出空格等特殊字符

\e[31;42m 红字绿底

\e[0m 恢复

1是加粗，颜色后面要加m，中间需要加分号


echo > 文件 覆盖输入内容

echo > 文件 接着下一行输入内容

### 分节符输入：

cat >> 文件 << 结束语

正常接着下行输入，直到输入结束语结束

### history命令：

查看历史命令，前面数字为命令号

！命令号，重复执行该命令号所对应的命令

### 两条同时命令执行：

用；隔开，两条命令毫无联系各自执行

&& 两条命令都正确才执行

||   有一条命令正确就执行

### type命令 ：

用来显示指定命令的类型，判断给出的指令是内部指令还是外部指令。

### 脚本命令：

变量：不用定义类型直接用，如：a=apple，赋值号“=”两边没有空格

引用变量：$a

read 变量名   可以从键盘输入，中间加入-p 双引号可以设置提示语句

# 4月17号上课内容

#### 位置参数：

不定义变量，直接用$1 $2 $3 $4

在运行脚本后面空格 加你要输出的内容，每个变量相隔一个空格

单引号直接输出内容

双引号有变量的话则会调用变量输出

```
#!/bib/bash
echo '$0='$0
echo '$1='$1
echo '$2='$2
echo '$3='$3
echo '$4='$4
echo '$5='$5
```


#### shift命令

使用shift命令之后，原来的$2会变成$1，并且原有的$1变得不可用，通过$#命令获得的参数个数也会少1。

$0  这个脚本的执行名字

$n  第n个参数值

$*  全部参数

$@ 全部参数，可以当作数组使用

$# 参数个数

$$ 这个脚本的PID

$? 上一条指令的返回值，成功是0，不成功是1

$!  Shell最后运行后台Process的PID

unset 变量名  清除变量内容

在调用变量名时可以用 {变量名} 来区分变量名

#### 命令

直接输入 name=zhangsan 

输出 echo name // 结果显示 zhangsan


#### 目录

echo $(dir)36/36/1  // 括号代表dir是一个整体

# 4月21号上课内容

1. $0  这个脚本的执行名字
2. $n  第n个参数值
3. $*  全部参数
4. $@ 全部参数，可以当作数组使用
5. $# 参数个数
6. $$ 这个脚本的PID
7. $? 上一条指令的返回值，成功是0，不成功是1
8. $!  Shell最后运行后台Process的PID
9. if test  #表达式为真
10. if test ! #表达式为假
11. test 表达式1 –a 表达式2  #两个表达式都为真
12. test 表达式1 –o 表达式2  #两个表达式有一个为真
13. test 表达式1 ! 表达式2  #条件求反

```
-b<文件>：如果文件为一个块特殊文件，则为真；
-c<文件>：如果文件为一个字符特殊文件，则为真；
-d<文件>：如果文件为一个目录，则为真；
-e<文件>：如果文件存在，则为真；
-f<文件>：如果文件为一个普通文件，则为真；
-g<文件>：如果设置了文件的SGID位，则为真；
-G<文件>：如果文件存在且归该组所有，则为真；
-k<文件>：如果设置了文件的粘着位，则为真；
-O<文件>：如果文件存在并且归该用户所有，则为真；
-p<文件>：如果文件为一个命名管道，则为真；
-r<文件>：如果文件可读，则为真；
-s<文件>：如果文件的长度不为零，则为真；
-S<文件>：如果文件为一个套接字特殊文件，则为真；
-u<文件>：如果设置了文件的SUID位，则为真；
-w<文件>：如果文件可写，则为真；
-x<文件>：如果文件可执行，则为真。
```

#### 管道命令：

前命令输出是后命令的输入

#### bc命令：

交互型算术运算
quit退出

### expr命令：

1. 算数运算
2. 数字与算数符要有空格隔开
3. 当使用 * 号时 需要在前面加 转义符 \ 或者用双引号
4. 如 expr 2 \* 3

$((运算表达式)) 也可以进行运算，可用echo输出
其中幂运算符是** 如echo $((2**2))  输出是 4

$[运算表达式] 方法与上一致

let 变量名=算数表达式
echo $变量名
输出算术答案
read 命令：
键盘输入内容
-p 提示语句
-a 后跟一个变量，该变量会被认为是数组
-n 后跟一个数字 定义输入文本长度
-s 在屏幕输入不显示

循环判断：
-le小于等于

# 4月24号上课内容

```
read 命令：
键盘输入内容
-p 提示语句
-a 后跟一个变量，该变量会被认为是数组
-n 后跟一个数字 定义输入文本长度
-s 在屏幕输入不显示
$REPLY 临时存放最近一次没有指定变量的内容
 
if语句：
if 和fi必须成对出现
格式：
if 测试条件
then 命令1
else 命令2
fi
判定方法：
if test 条件
if [ 测试条件 ]
if [[ 测试条件 ]]
 
test的用法：
if test  #表达式为真
if test ! #表达式为假
test 表达式1 –a 表达式2  #两个表达式都为真
test 表达式1 –o 表达式2  #两个表达式有一个为真
test 表达式1 ! 表达式2  #条件求反
 
-b<文件>：如果文件为一个块特殊文件，则为真；
-c<文件>：如果文件为一个字符特殊文件，则为真；
-d<文件>：如果文件为一个目录，则为真；
-e<文件>：如果文件存在，则为真；
-f<文件>：如果文件为一个普通文件，则为真；
-g<文件>：如果设置了文件的SGID位，则为真；
-G<文件>：如果文件存在且归该组所有，则为真；
-k<文件>：如果设置了文件的粘着位，则为真；
-O<文件>：如果文件存在并且归该用户所有，则为真；
-p<文件>：如果文件为一个命名管道，则为真；
-r<文件>：如果文件可读，则为真；
-s<文件>：如果文件的长度不为零，则为真；
-S<文件>：如果文件为一个套接字特殊文件，则为真；
-u<文件>：如果设置了文件的SUID位，则为真；
-w<文件>：如果文件可写，则为真；
-x<文件>：如果文件可执行，则为真。
 
多行注释：
1. 首先按esc进入命令行模式下，按下Ctrl + v，进入列（也叫区块）模式;
2. 在行首使用上下键选择需要注释的多行;
3. 按下键盘（大写）“I”键，进入插入模式；
4. 然后输入注释符（“//”、“#”等）;
5. 最后按下“Esc”键。
注：在按下esc键后，会稍等一会才会出现注释，不要着急~~时间很短的
 
删除多行注释：
1. 首先按esc进入命令行模式下，按下Ctrl + v, 进入列模式;
2. 选定要取消注释的多行;
3. 按下“x”或者“d”.
注意：如果是“//”注释，那需要执行两次该操作，如果是“#”注释，一次即可
 
长格式 ll 或 ls -l
```

# 4月28号上课内容

1. -gt是大于
2. -lt是小于
3. -eq是等于
4. -ne是不等于
5. -ge是大于等于
6. -le是小于等于 

> 示例

```
#!/bin/bash
read -p "输入数值1" a
read -p "输入数字2" b
if [ $a -gt $b ]
then 
  echo "$a 大于 $b"
else
  echo "$b 大于 $a"
fi
```

## at命令：

在用户指定的始课执行指定命令货命令序列
at [选项] [时间]
Ctrl + D  结束at命令的输入

### 选项：

-m 当指定的任务被完成后，将给用户发送邮件，即使没有标准输出
-c 打印任务内容到标准输出

### 时间定义：

格式hh:mm
模糊词：midnight，noon，teatime等
12小时制：12pm
指定具体日期：month day（月 日），mm/dd/yy或dd.mm.yy，yy-mm-dd,mmddyy
相对计时法：now+count time-units，now就是当前时间，time-units是时间单位，这里能够是minutes（分钟）、hours（小时）、days（天）、weeks（星期）。count是时间的数量，几天，几小时。例如：now + 5 minutes 04pm + 3 days
直接使用：today（今天）、tomorrow（明天）来指定完成命令的时间

## 相关命令：

atq：列出用户计划任务
atrm：根据jobnumber删除at任务
batch命令：在系统平均负载低于0.8时，立即执行成批命令货命令序列

### crontab命令

配置定时器，告诉提供定时器功能的cron守护进程让用户定时执行命令货命令序列